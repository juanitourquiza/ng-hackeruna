import{a as l}from"./chunk-FPAH3HGM.js";import{b as r,c as h}from"./chunk-TD4QLYMH.js";import{M as u,R as b,q as a}from"./chunk-IIT7GGWY.js";var m=class n{constructor(t){this.http=t}apiUrl=l.wordpressApiUrl;getPosts(t=1,e=10,s,i,o){let p=new r().set("page",t.toString()).set("per_page",e.toString()).set("_embed","true");return s&&(p=p.set("categories",s.toString())),i&&(p=p.set("search",i)),o!==void 0&&(p=p.set("sticky",o.toString())),this.http.get(`${this.apiUrl}/posts`,{params:p,observe:"response"}).pipe(a(g=>({data:g.body||[],total:parseInt(g.headers.get("X-WP-Total")||"0",10),totalPages:parseInt(g.headers.get("X-WP-TotalPages")||"0",10)})))}getPostBySlug(t){let e=new r().set("slug",t).set("_embed","true");return this.http.get(`${this.apiUrl}/posts`,{params:e}).pipe(a(s=>s[0]))}getPostById(t){let e=new r().set("_embed","true");return this.http.get(`${this.apiUrl}/posts/${t}`,{params:e})}getFeaturedPosts(t=1){let e=new r().set("sticky","true").set("per_page",t.toString()).set("_embed","true");return this.http.get(`${this.apiUrl}/posts`,{params:e})}getCategories(){let t=new r().set("per_page","100");return this.http.get(`${this.apiUrl}/categories`,{params:t})}getCategoryBySlug(t){let e=new r().set("slug",t);return this.http.get(`${this.apiUrl}/categories`,{params:e}).pipe(a(s=>s[0]))}getTags(){let t=new r().set("per_page","100");return this.http.get(`${this.apiUrl}/tags`,{params:t})}getAuthorById(t){return this.http.get(`${this.apiUrl}/users/${t}`)}getAuthorBySlug(t){let e=new r().set("slug",t);return this.http.get(`${this.apiUrl}/users`,{params:e}).pipe(a(s=>s[0]))}getPostsByAuthor(t,e=1,s=10){let i=new r().set("author",t.toString()).set("page",e.toString()).set("per_page",s.toString()).set("_embed","true");return this.http.get(`${this.apiUrl}/posts`,{params:i,observe:"response"}).pipe(a(o=>({data:o.body||[],total:parseInt(o.headers.get("X-WP-Total")||"0",10),totalPages:parseInt(o.headers.get("X-WP-TotalPages")||"0",10)})))}getPostsByCategory(t,e=1,s=10){return this.getPosts(e,s,t)}searchPosts(t,e=1,s=10){return this.getPosts(e,s,void 0,t)}getMostReadPosts(t=4){let e=new r().set("per_page",t.toString()).set("orderby","views").set("order","desc").set("_embed","true");return this.http.get(`${this.apiUrl}/posts`,{params:e})}static \u0275fac=function(e){return new(e||n)(b(h))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};export{m as a};
