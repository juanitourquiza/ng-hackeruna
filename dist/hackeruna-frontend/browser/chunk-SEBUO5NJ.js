import{a as k}from"./chunk-MX3J4MER.js";import"./chunk-ZVNRDAQC.js";import{a as E}from"./chunk-6VFLZ5EG.js";import"./chunk-FPAH3HGM.js";import"./chunk-F5DBWHI5.js";import{k as D}from"./chunk-T33PNWSJ.js";import"./chunk-7WVRIIHY.js";import{Bb as x,Ga as i,Q as f,Ra as l,db as h,eb as a,fa as p,fb as s,hb as C,ib as v,jb as y,kb as d,lb as r,mb as g,nb as b,ob as _,pb as S,wb as m,zb as c}from"./chunk-7HMXUCHC.js";var u=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-loading-spinner"]],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-primary"]],template:function(e,o){e&1&&(b(0,"div",0),S(1,"div",1),_())},encapsulation:2})};function M(t,n){if(t&1&&(d(0,"p",3),c(1),r()),t&2){let e=m();i(),x(' Buscando: "',e.searchQuery(),'" ')}}function T(t,n){t&1&&g(0,"app-loading-spinner")}function q(t,n){if(t&1&&(d(0,"div",4),c(1),r()),t&2){let e=m();i(),x(" ",e.error()," ")}}function w(t,n){t&1&&(d(0,"div",5),c(1," No se encontraron resultados para tu b\xFAsqueda. "),r())}function A(t,n){if(t&1&&g(0,"app-post-card",7),t&2){let e=n.$implicit;y("post",e)}}function F(t,n){if(t&1&&(d(0,"div",6),C(1,A,1,1,"app-post-card",7,h().trackByPostId,!0),r()),t&2){let e=m();i(),v(e.results())}}var I=class t{route=f(D);wpApi=f(E);searchQuery=p("");results=p([]);loading=p(!0);error=p(null);ngOnInit(){this.route.queryParams.subscribe(n=>{let e=n.q;e&&(this.searchQuery.set(e),this.performSearch(e))})}performSearch(n){this.loading.set(!0),this.error.set(null),this.wpApi.searchPosts(n).subscribe({next:e=>{this.results.set(e.data),this.loading.set(!1)},error:e=>{console.error("Error searching posts:",e),this.error.set("Error al realizar la b\xFAsqueda"),this.loading.set(!1)}})}trackByPostId(n,e){return e.id}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-search"]],decls:9,vars:5,consts:[[1,"py-8","lg:py-12"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-3xl","font-bold","text-text-light-primary","dark:text-dark-primary","mb-2"],[1,"text-lg","text-text-light-secondary","dark:text-dark-secondary","mb-8"],[1,"bg-red-100","dark:bg-red-900","border","border-red-400","dark:border-red-700","text-red-700","dark:text-red-200","px-4","py-3","rounded","mb-8"],[1,"text-center","py-12","text-text-light-secondary","dark:text-dark-secondary"],[1,"space-y-12"],[3,"post"]],template:function(e,o){e&1&&(d(0,"main",0)(1,"div",1)(2,"h1",2),c(3," Resultados de b\xFAsqueda "),r(),a(4,M,2,1,"p",3),a(5,T,1,0,"app-loading-spinner"),a(6,q,2,1,"div",4),a(7,w,2,0,"div",5),a(8,F,3,0,"div",6),r()()),e&2&&(i(4),s(o.searchQuery()?4:-1),i(),s(o.loading()?5:-1),i(),s(o.error()?6:-1),i(),s(!o.loading()&&o.results().length===0?7:-1),i(),s(o.loading()?-1:8))},dependencies:[k,u],encapsulation:2,changeDetection:0})};export{I as SearchComponent};
