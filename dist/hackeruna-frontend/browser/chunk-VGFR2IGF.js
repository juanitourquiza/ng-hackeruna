import{j as m,m as f}from"./chunk-TD4QLYMH.js";import{M as l,R as g,w as c}from"./chunk-IIT7GGWY.js";var d=class a{constructor(e){this.router=e}GA_ID="G-RXGCTBC67S";init(){this.trackPageViews()}trackPageViews(){this.router.events.pipe(c(e=>e instanceof m)).subscribe(e=>{this.pageView(e.urlAfterRedirects)})}pageView(e){if(this.isGtagAvailable()){let t=document.referrer,i={page_path:e};t&&(i.page_referrer=t),window.gtag("config",this.GA_ID,i)}}trackTrafficSource(){if(!this.isGtagAvailable())return;let e=document.referrer,t=new URLSearchParams(window.location.search),i="direct",r="none";if(e){let n=new URL(e).hostname;n.includes("google")?(i="google",r="organic"):n.includes("bing")?(i="bing",r="organic"):n.includes("facebook")?(i="facebook",r="social"):n.includes("twitter")||n.includes("t.co")?(i="twitter",r="social"):n.includes("linkedin")?(i="linkedin",r="social"):(i=n,r="referral")}let o=t.get("utm_source"),s=t.get("utm_medium"),u=t.get("utm_campaign");o&&(i=o),s&&(r=s),this.event("traffic_source",{source:i,medium:r,campaign:u||"(not set)",referrer:e||"(direct)"})}event(e,t){this.isGtagAvailable()&&window.gtag("event",e,t)}trackShare(e,t,i){this.event("share",{method:e,content_type:t,item_id:i})}trackSearch(e){this.event("search",{search_term:e})}trackPostClick(e,t){this.event("select_content",{content_type:"post",item_id:e.toString(),item_name:t})}trackTimeOnPage(e,t){this.event("time_on_page",{page_path:e,value:t,engagement_time_msec:t*1e3})}trackScrollDepth(e){this.event("scroll",{percent_scrolled:e})}trackContactFormSubmit(e){this.event("form_submit",{form_name:"contact",success:e})}trackError(e,t){this.event("exception",{description:e,fatal:!1,location:t})}isGtagAvailable(){return typeof window<"u"&&typeof window.gtag=="function"}static \u0275fac=function(t){return new(t||a)(g(f))};static \u0275prov=l({token:a,factory:a.\u0275fac,providedIn:"root"})};export{d as a};
