import{a as b}from"./chunk-3UN55NVY.js";import{a as _,b as C}from"./chunk-KYUVX5UP.js";import{b as v}from"./chunk-M5FRH7GR.js";import"./chunk-AUXXTF6L.js";import"./chunk-B24TU2OJ.js";import{Ea as g,Ia as m,Oa as o,Ra as s,S as l,Sa as i,Ta as f,Wa as c,Xa as d,Za as x,la as p,rb as u,sb as h,tb as y,wa as n}from"./chunk-IPQN3NVZ.js";function I(t,r){if(t&1&&(s(0,"p",8),d(1),i()),t&2){let e=c();n(),x(' Buscando: "',e.searchQuery(),'" ')}}function k(t,r){t&1&&f(0,"app-loading-spinner")}function E(t,r){if(t&1&&(s(0,"div",9),d(1),i()),t&2){let e=c();n(),x(" ",e.error()," ")}}function F(t,r){t&1&&(s(0,"div",10),d(1," No se encontraron resultados para tu b\xFAsqueda. "),i())}function T(t,r){if(t&1&&f(0,"app-post-card",13),t&2){let e=r.$implicit;o("post",e)}}function q(t,r){if(t&1&&(s(0,"div",11),m(1,T,1,1,"app-post-card",12),i()),t&2){let e=c();n(),o("ngForOf",e.results())}}var S=class t{route=l(v);wpApi=l(_);searchQuery=p("");results=p([]);loading=p(!0);error=p(null);ngOnInit(){this.route.queryParams.subscribe(r=>{let e=r.q;e&&(this.searchQuery.set(e),this.performSearch(e))})}performSearch(r){this.loading.set(!0),this.error.set(null),this.wpApi.searchPosts(r).subscribe({next:e=>{this.results.set(e.data),this.loading.set(!1)},error:e=>{console.error("Error searching posts:",e),this.error.set("Error al realizar la b\xFAsqueda"),this.loading.set(!1)}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-search"]],decls:9,vars:5,consts:[[1,"py-8","lg:py-12"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-3xl","font-bold","text-text-light-primary","dark:text-dark-primary","mb-2"],["class","text-lg text-text-light-secondary dark:text-dark-secondary mb-8",4,"ngIf"],[4,"ngIf"],["class","bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded mb-8",4,"ngIf"],["class","text-center py-12 text-text-light-secondary dark:text-dark-secondary",4,"ngIf"],["class","space-y-12",4,"ngIf"],[1,"text-lg","text-text-light-secondary","dark:text-dark-secondary","mb-8"],[1,"bg-red-100","dark:bg-red-900","border","border-red-400","dark:border-red-700","text-red-700","dark:text-red-200","px-4","py-3","rounded","mb-8"],[1,"text-center","py-12","text-text-light-secondary","dark:text-dark-secondary"],[1,"space-y-12"],[3,"post",4,"ngFor","ngForOf"],[3,"post"]],template:function(e,a){e&1&&(s(0,"main",0)(1,"div",1)(2,"h1",2),d(3," Resultados de b\xFAsqueda "),i(),m(4,I,2,1,"p",3)(5,k,1,0,"app-loading-spinner",4)(6,E,2,1,"div",5)(7,F,2,0,"div",6)(8,q,2,1,"div",7),i()()),e&2&&(n(4),o("ngIf",a.searchQuery()),n(),o("ngIf",a.loading()),n(),o("ngIf",a.error()),n(),o("ngIf",!a.loading()&&a.results().length===0),n(),o("ngIf",!a.loading()))},dependencies:[y,u,h,b,C],encapsulation:2})};export{S as SearchComponent};
