import{a as C}from"./chunk-G6FNCO63.js";import{a as _}from"./chunk-AXBRVXEE.js";import{d as b}from"./chunk-RD63AQL4.js";import"./chunk-FPAH3HGM.js";import"./chunk-QX5GJNOG.js";import{Bb as h,Cb as v,Db as f,Ea as m,Ia as x,Ra as i,S as u,Ya as a,Za as o,_a as d,bb as l,cb as c,eb as y,la as p,wa as n}from"./chunk-DCY6GUQE.js";var g=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-loading-spinner"]],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-primary"]],template:function(e,s){e&1&&(a(0,"div",0),d(1,"div",1),o())},dependencies:[f],encapsulation:2})};function F(t,r){if(t&1&&(a(0,"p",8),c(1),o()),t&2){let e=l();n(),y(' Buscando: "',e.searchQuery(),'" ')}}function P(t,r){t&1&&d(0,"app-loading-spinner")}function T(t,r){if(t&1&&(a(0,"div",9),c(1),o()),t&2){let e=l();n(),y(" ",e.error()," ")}}function E(t,r){t&1&&(a(0,"div",10),c(1," No se encontraron resultados para tu b\xFAsqueda. "),o())}function D(t,r){if(t&1&&d(0,"app-post-card",13),t&2){let e=r.$implicit;i("post",e)}}function N(t,r){if(t&1&&(a(0,"div",11),x(1,D,1,1,"app-post-card",12),o()),t&2){let e=l();n(),i("ngForOf",e.results())("ngForTrackBy",e.trackByPostId)}}var S=class t{route=u(b);wpApi=u(_);searchQuery=p("");results=p([]);loading=p(!0);error=p(null);ngOnInit(){this.route.queryParams.subscribe(r=>{let e=r.q;e&&(this.searchQuery.set(e),this.performSearch(e))})}performSearch(r){this.loading.set(!0),this.error.set(null),this.wpApi.searchPosts(r).subscribe({next:e=>{this.results.set(e.data),this.loading.set(!1)},error:e=>{console.error("Error searching posts:",e),this.error.set("Error al realizar la b\xFAsqueda"),this.loading.set(!1)}})}trackByPostId(r,e){return e.id}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-search"]],decls:9,vars:5,consts:[[1,"py-8","lg:py-12"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-3xl","font-bold","text-text-light-primary","dark:text-dark-primary","mb-2"],["class","text-lg text-text-light-secondary dark:text-dark-secondary mb-8",4,"ngIf"],[4,"ngIf"],["class","bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded mb-8",4,"ngIf"],["class","text-center py-12 text-text-light-secondary dark:text-dark-secondary",4,"ngIf"],["class","space-y-12",4,"ngIf"],[1,"text-lg","text-text-light-secondary","dark:text-dark-secondary","mb-8"],[1,"bg-red-100","dark:bg-red-900","border","border-red-400","dark:border-red-700","text-red-700","dark:text-red-200","px-4","py-3","rounded","mb-8"],[1,"text-center","py-12","text-text-light-secondary","dark:text-dark-secondary"],[1,"space-y-12"],[3,"post",4,"ngFor","ngForOf","ngForTrackBy"],[3,"post"]],template:function(e,s){e&1&&(a(0,"main",0)(1,"div",1)(2,"h1",2),c(3," Resultados de b\xFAsqueda "),o(),x(4,F,2,1,"p",3)(5,P,1,0,"app-loading-spinner",4)(6,T,2,1,"div",5)(7,E,2,0,"div",6)(8,N,2,2,"div",7),o()()),e&2&&(n(4),i("ngIf",s.searchQuery()),n(),i("ngIf",s.loading()),n(),i("ngIf",s.error()),n(),i("ngIf",!s.loading()&&s.results().length===0),n(),i("ngIf",!s.loading()))},dependencies:[f,h,v,C,g],encapsulation:2,changeDetection:0})};export{S as SearchComponent};
