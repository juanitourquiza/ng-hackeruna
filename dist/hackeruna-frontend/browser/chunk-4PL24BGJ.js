import{a as f}from"./chunk-H5QFTGJI.js";import{a as r,b as W}from"./chunk-B24TU2OJ.js";import{Ea as u,M as m,R as l,Ra as b,Sa as h,Ta as d,q as a,tb as c}from"./chunk-IPQN3NVZ.js";var P=class o{constructor(t){this.http=t}apiUrl=f.wordpressApiUrl;getPosts(t=1,e=10,s,i,n){let p=new r().set("page",t.toString()).set("per_page",e.toString()).set("_embed","true");return s&&(p=p.set("categories",s.toString())),i&&(p=p.set("search",i)),n!==void 0&&(p=p.set("sticky",n.toString())),this.http.get(`${this.apiUrl}/posts`,{params:p,observe:"response"}).pipe(a(g=>({data:g.body||[],total:parseInt(g.headers.get("X-WP-Total")||"0",10),totalPages:parseInt(g.headers.get("X-WP-TotalPages")||"0",10)})))}getPostBySlug(t){let e=new r().set("slug",t).set("_embed","true");return this.http.get(`${this.apiUrl}/posts`,{params:e}).pipe(a(s=>s[0]))}getPostById(t){let e=new r().set("_embed","true");return this.http.get(`${this.apiUrl}/posts/${t}`,{params:e})}getFeaturedPosts(t=1){let e=new r().set("sticky","true").set("per_page",t.toString()).set("_embed","true");return this.http.get(`${this.apiUrl}/posts`,{params:e})}getCategories(){let t=new r().set("per_page","100");return this.http.get(`${this.apiUrl}/categories`,{params:t})}getCategoryBySlug(t){let e=new r().set("slug",t);return this.http.get(`${this.apiUrl}/categories`,{params:e}).pipe(a(s=>s[0]))}getTags(){let t=new r().set("per_page","100");return this.http.get(`${this.apiUrl}/tags`,{params:t})}getAuthorById(t){return this.http.get(`${this.apiUrl}/users/${t}`)}getAuthorBySlug(t){let e=new r().set("slug",t);return this.http.get(`${this.apiUrl}/users`,{params:e}).pipe(a(s=>s[0]))}getPostsByAuthor(t,e=1,s=10){let i=new r().set("author",t.toString()).set("page",e.toString()).set("per_page",s.toString()).set("_embed","true");return this.http.get(`${this.apiUrl}/posts`,{params:i,observe:"response"}).pipe(a(n=>({data:n.body||[],total:parseInt(n.headers.get("X-WP-Total")||"0",10),totalPages:parseInt(n.headers.get("X-WP-TotalPages")||"0",10)})))}getPostsByCategory(t,e=1,s=10){return this.getPosts(e,s,t)}searchPosts(t,e=1,s=10){return this.getPosts(e,s,void 0,t)}static \u0275fac=function(e){return new(e||o)(l(W))};static \u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"})};var v=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=u({type:o,selectors:[["app-loading-spinner"]],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-primary"]],template:function(e,s){e&1&&(b(0,"div",0),d(1,"div",1),h())},dependencies:[c],encapsulation:2})};export{P as a,v as b};
