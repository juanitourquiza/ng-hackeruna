import{m as l}from"./chunk-T33PNWSJ.js";import{l as n}from"./chunk-7WVRIIHY.js";import{L as u,Lb as r,Q as i,fa as s,qa as o}from"./chunk-7HMXUCHC.js";var d=class g{platformId=i(o);router=i(l);availableLanguages=[{code:"es",name:"Spanish",nativeName:"Espa\xF1ol",flag:"\u{1F1EA}\u{1F1F8}"},{code:"en",name:"English",nativeName:"English",flag:"\u{1F1FA}\u{1F1F8}"}];defaultLanguage="es";_currentLang=s(this.getInitialLanguage());currentLang=this._currentLang.asReadonly();currentLanguageConfig=r(()=>this.availableLanguages.find(a=>a.code===this._currentLang())||this.availableLanguages[0]);isSpanish=r(()=>this._currentLang()==="es");isEnglish=r(()=>this._currentLang()==="en");getInitialLanguage(){if(!n(this.platformId))return this.defaultLanguage;let a=this.getLanguageFromPath();if(a)return a;let e=localStorage.getItem("hackeruna_lang");if(e&&this.isValidLanguage(e))return e;let t=navigator.language.split("-")[0];return this.isValidLanguage(t)?t:this.defaultLanguage}getLanguageFromPath(){if(!n(this.platformId))return null;let e=window.location.pathname.split("/").filter(Boolean)[0];return this.isValidLanguage(e)?e:null}isValidLanguage(a){return this.availableLanguages.some(e=>e.code===a)}switchLanguage(a,e=!1){this.isValidLanguage(a)&&(!e&&a===this._currentLang()||(this._currentLang.set(a),n(this.platformId)&&(localStorage.setItem("hackeruna_lang",a),this.updateUrlLanguage(a))))}updateUrlLanguage(a){let t=this.router.url.split("/").filter(Boolean);this.isValidLanguage(t[0])?t[0]=a:t.unshift(a);let p="/"+t.join("/");this.router.navigateByUrl(p)}setLanguageFromUrl(a){this.isValidLanguage(a)&&(this._currentLang.set(a),n(this.platformId)&&localStorage.setItem("hackeruna_lang",a))}getAlternateLanguage(){let a=this._currentLang();return this.availableLanguages.find(e=>e.code!==a)||this.availableLanguages[1]}static \u0275fac=function(e){return new(e||g)};static \u0275prov=u({token:g,factory:g.\u0275fac,providedIn:"root"})};export{d as a};
